<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${author.name}">Author Summary</title>
    <link rel="stylesheet" th:href="@{/style.css}">
    <meta charset="UTF-8">
</head>

<body topmargin="0" leftmargin="0">

<!-- HEADER -->
<table class="header-table" border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <!-- LOGO TEXT INSTEAD OF IMAGE -->
        <td width="40%" class="logo-text">
            <span class="header-logo">BOOK PORTAL</span>
        </td>

        <td width="30%" class="header-user">
            <b>Welcome <span th:text="${#strings.toUpperCase(#authentication.name)}"></span>!
            </b>
            <br>
            <font style="font-size:11px;"
                  th:text="${#dates.format(#dates.createNow(),'MMMM dd, yyyy')}">
            </font>
        </td>

        <td width="30%">
            <form th:action="@{/logout}" method="post" style="display:inline;">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button type="submit" class="btn-link">
                    &raquo; Logout
                </button>
            </form>
            &nbsp;&nbsp; »
            <a th:href="@{/user-options}">User Options</a>
        </td>
    </tr>
</table>

<br><br>


<!-- MAIN CONTENT AREA (MATCH PUBLISHER SUMMARY) -->
<table cellpadding="3" cellspacing="0" width="90%" border="0" style="border: 3px solid #0098CA" bgcolor="#EEF5F8" align="center">
    <tr>
        <td>
            <div align="center">
                <center>
                    <!-- AUTHOR NAME -->
                    <table border="0" cellpadding="0" cellspacing="0" width="75%">
                        <tr>
                            <td width="50%" valign="top">
                                <font size="3"><b th:text="${author.name}">Author Name</b></font>
                            </td>
                        </tr>
                    </table>

                    <hr noshade size="1" color="#C6C3C6" align="left">

                    <!-- EMPTY STATE -->
                    <div th:if="${categories == null || #lists.isEmpty(categories)}">
                        <p>No books found for this author.</p>
                    </div>

                    <!-- CATEGORY LIST -->
                    <div th:each="cat : ${categories}">
                        <!-- CATEGORY NAME TABLE -->
                        <table width="50%" bordercolor="#086194" border="1" cellspacing="0" cellpadding="3" align="center" valign="middle">
                            <tr class="ListTableRow">
                                <td height="20" valign="middle" align="left" class="contentblue">
                                    <b>&nbsp;
                                        <font color="#086194">■</font>&nbsp;
                                        <span th:text="${cat.categoryName}">Category</span>
                                    </b>
                                </td>
                            </tr>
                        </table>

                        <!-- BOOK COUNT AND VIEW LINK TABLE -->
                        <table width="50%" border="0" align="center">
                            <tr>
                                <td class="content" height="17" width="50%" align="center">
                                    <a th:href="@{/books(authorId=${author.id},categoryId=${cat.categoryId})}">
                                        <font color="#086194">
                                            <b>
                                                <span th:text="${cat.bookCount}">0</span>&nbsp;book(s)
                                            </b>
                                        </font>
                                    </a>
                                </td>
                                <td class="content" height="17" width="50%" align="center">
                                    <a th:href="@{/books(authorId=${author.id},categoryId=${cat.categoryId})}">
                                        View
                                    </a>
                                </td>
                            </tr>
                        </table>

                        <br><br>
                    </div>

                </center>
            </div>
        </td>
    </tr>
</table>

<!-- FOOTER -->
<br>
<div class="footer">
    &copy;2006 Book Portal
</div>

<div class="footer-links">
    <a href="#">Subscription Services</a> |
    <a href="#">About Us</a> |
    <a href="#">Contact Us</a> |
    <a href="#">Privacy Policy</a> |
    <a href="#">Admin</a>
</div>

</body>
</html>
